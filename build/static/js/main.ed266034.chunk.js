(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{426:function(e,t,a){e.exports=a(636)},431:function(e,t,a){},432:function(e,t,a){},636:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(61),c=a.n(l),o=(a(431),a(36)),i=a(40),s=a(19),u=a(20),m=a(22),d=a(21),p=a(23),h=(a(432),a(223)),f=a(304),E=a(34),g=a(91),b=a(26),y=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(h.a,{fixed:"top",color:"blue"},r.a.createElement(h.a.Item,{header:!0,as:b.b,to:"/"},"Brewers Market"),e?r.a.createElement(h.a.Menu,{position:"right"},r.a.createElement(h.a.Item,null,r.a.createElement(f.a,{placeholder:"Search...",action:{icon:"search"},value:this.props.search,onChange:this.props.setSearch})),r.a.createElement(h.a.Item,{as:b.b,to:"/cart"},r.a.createElement(E.a,{name:"cart"}),r.a.createElement("strong",null,Object.keys(this.props.cart).length)),e.brewery&&r.a.createElement(g.a,{item:!0,text:e.brewery.name},r.a.createElement(g.a.Menu,null,r.a.createElement(g.a.Item,{as:b.b,to:"/brewery/profile"},"Brewery Details"),r.a.createElement(g.a.Item,{as:b.b,to:"/brewery/products"},"Manage Products"),r.a.createElement(g.a.Item,{as:b.b,to:"/help"},"Help"),r.a.createElement(g.a.Item,{onClick:this.props.signOut,as:b.b,to:"/"},"Sign Out"))),r.a.createElement(g.a,{item:!0,text:"".concat(e.first_name," ").concat(e.last_name)},r.a.createElement(g.a.Menu,null,r.a.createElement(g.a.Item,{as:b.b,to:"/profile"},"My Details"),r.a.createElement(g.a.Item,{as:b.b,to:"/orders"},"Orders"),r.a.createElement(g.a.Item,{as:b.b,to:"/help"},"Help"),r.a.createElement(g.a.Item,{onClick:this.props.signOut,as:b.b,to:"/"},"Sign Out")))):r.a.createElement(h.a.Menu,{position:"right"},r.a.createElement(h.a.Item,{as:b.b,to:"/signin"},"Sign In")))}}]),t}(r.a.Component),v=a(375),C=a(421),w=a(78),O="http://localhost:3000/api/v1/",j=["Amber","Barleywine","Belgian","Blonde","Brown","English Ale","Fruit","Golden","IPA","Lager","Mild","Pale","Porter","Red Ale","Saison","Sour","Stout","Wheat"],k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeItem:"home",breweries:[]},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.breweries=function(){return a.state.breweries.filter(function(e){return e.products.length>0}).map(function(e){return{text:e.name,value:e.name}})},a.styles=function(){return j.map(function(e){return{text:e,value:e}})},a.setFilterButton=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a.setState({activeItem:e||"home"}),a.props.setFilter(e,t)},a.setFilterDropdown=function(e,t){var n=t.name,r=t.value;a.setState({activeItem:n}),a.props.setFilter(n,r)},a.stickTopMenu=function(){return a.setState({menuFixed:!0})},a.unStickTopMenu=function(){return a.setState({menuFixed:!1})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O+"breweries").then(function(e){return e.json()}).then(function(t){return e.setState({breweries:t})})}},{key:"render",value:function(){var e=this,t=this.state.activeItem;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",height:"14em",overflow:"hidden",borderRadius:"5px",boxShadow:"1px 1px 2px rgba(0,0,0,0.2)"}},r.a.createElement(w.a,{src:"https://stuartsewell.dev/hero2.jpeg",style:{objectFit:"cover",height:"14em",width:"100%"}})),r.a.createElement("div",null,r.a.createElement(h.a,{pointing:!0,secondary:!0},r.a.createElement(h.a.Item,{as:b.b,to:"/",name:"home",active:"home"===t,onClick:function(){return e.setFilterButton(null)}}),r.a.createElement(h.a.Item,{name:"all products",active:"all products"===t,onClick:function(){return e.setFilterButton("all products","All Products")}}),r.a.createElement(g.a,{item:!0,name:"brewery",onChange:this.setFilterDropdown,text:"Filter by Brewery",options:this.breweries()}),r.a.createElement(g.a,{item:!0,name:"style",onChange:this.setFilterDropdown,text:"Filter by Style",options:this.styles()}))))}}]),t}(r.a.Component),S=a(352),I=a(235),x=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.beer,a=t.id,n=t.brewery,l=t.name,c=t.style,o=t.image_url;return r.a.createElement(I.a,{as:b.b,to:"/product/".concat(a),onClick:function(){e.props.fetchProduct(a)}},r.a.createElement(w.a,{src:o}),r.a.createElement(I.a.Content,null,r.a.createElement(S.a,null,l),r.a.createElement("p",null,n.name)),r.a.createElement(I.a.Content,{extra:!0},c))}}]),t}(r.a.Component),P=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,this.props.title),this.props.products.length>0?r.a.createElement(I.a.Group,{itemsPerRow:this.props.perRow||5},this.props.products.map(function(t){return r.a.createElement(x,{key:t.id,beer:t,fetchProduct:e.props.fetchProduct})})):r.a.createElement("div",null,"No results found."))}}]),t}(r.a.Component),_=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{setFilter:this.props.setFilter}),this.props.filter?r.a.createElement(P,{title:this.props.filter,products:this.props.products,fetchProduct:function(){}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{title:"Trending Products",products:this.props.products.slice(0,5),fetchProduct:function(){}}),r.a.createElement(P,{title:"Latest Products",products:Object(C.a)(this.props.products).reverse().slice(0,5),fetchProduct:function(){}})))}}]),t}(r.a.Component),F=a(237),A=a(354),T=a(118),D=a(355),M=a(30),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleOnChange=function(e){return a.setState(Object(i.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){a.props.signInSubmit(a.state)},a.signInSubmit=function(){fetch(O+"signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state)}).then(function(e){return e.json()}).then(function(e){e.error?M.b.error("Signin Failed! Please try again.",{containerId:"messages"}):(localStorage.setItem("user",e.token),a.props.getUser(),a.props.history.push("/"))})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{textAlign:"center"},r.a.createElement(F.a.Column,{style:{maxWidth:450,paddingTop:"8em"}},r.a.createElement(S.a,{as:"h2",textAlign:"center"},"Sign in to your account"),r.a.createElement(A.a,{size:"large",onSubmit:this.signInSubmit},r.a.createElement(A.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",name:"email",onChange:this.handleOnChange,value:this.state.email}),r.a.createElement(A.a.Input,{fluid:!0,icon:"lock",name:"password",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleOnChange,value:this.state.password}),this.state.email&&this.state.password?r.a.createElement(T.a,{fluid:!0,size:"large",content:"Login",positive:!0}):r.a.createElement(T.a,{fluid:!0,size:"large",content:"Login",disabled:!0})),r.a.createElement(D.a,null,"New here? ",r.a.createElement(b.b,{to:"/signup"},"Sign Up")))))}}]),t}(r.a.Component),H=a(260),z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={first_name:"",last_name:"",email:"",dob:"",password:"",password_confirm:""},a.handleOnChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.handleDateChange=function(e,t){var n=t.name,r=t.value;a.setState(Object(i.a)({},n,r))},a.handleSubmit=function(e){var t=!0,n=!0;a.state.password!==a.state.password_confirm?(M.b.error("Passwords do not match.",{containerId:"errors"}),t=!0):t=!1,a.ageCheck(a.state.dob)<18?(M.b.error("You must be at least 18.",{containerId:"errors"}),n=!0):n=!1,n||t||a.signUpSubmit()},a.signUpSubmit=function(){fetch(O+"users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state)}).then(function(e){return e.json()}).then(function(e){e.error?e.error.map(function(e){return M.b.error(e,{containerId:"messages"})}):(localStorage.setItem("user",e.token),a.props.getUser(),a.props.history.push("/"))})},a.formValidation=function(){var e=a.state,t=e.first_name,n=e.last_name,r=e.email,l=e.dob,c=e.password,o=e.password_confirm;return!!(t&&n&&r&&l&&c&&o)},a.ageCheck=function(e){var t=new Date,a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear(),l=e.split("-"),c=r-l[2],o=n-l[1];return(o<0||0===o&&a<l[0])&&c--,c},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{textAlign:"center"},r.a.createElement(F.a.Column,{style:{maxWidth:450,paddingTop:"8em"}},r.a.createElement(S.a,{as:"h2",textAlign:"center"},"Create a new account"),r.a.createElement(A.a,{size:"large",onSubmit:this.handleSubmit},r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"user",iconPosition:"left",placeholder:"First Name",name:"first_name",onChange:this.handleOnChange,value:this.state.first_name}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"user",iconPosition:"left",placeholder:"Last Name",name:"last_name",onChange:this.handleOnChange,value:this.state.last_name}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail address",name:"email",onChange:this.handleOnChange,value:this.state.email}),r.a.createElement(H.DateInput,{name:"dob",placeholder:"Date of Birth",value:this.state.dob,iconPosition:"left",onChange:this.handleDateChange}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"lock",name:"password",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleOnChange,value:this.state.password}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"lock",name:"password_confirm",iconPosition:"left",placeholder:"Confirm Password",type:"password",onChange:this.handleOnChange,value:this.state.password_confirm}),this.formValidation()?r.a.createElement(T.a,{fluid:!0,size:"large",content:"Create account",positive:!0}):r.a.createElement(T.a,{fluid:!0,size:"large",content:"Create account",disabled:!0})))))}}]),t}(r.a.Component),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={first_name:"",last_name:"",tel:"",address_line_1:"",address_line_2:"",city:"",postcode:"",dob:"",email:""},a.updateDetails=function(){fetch(O+"users/".concat(a.state.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state)}).then(function(e){return e.json()}).then(function(e){e.error?e.error.map(function(e){return M.b.error(e,{containerId:"messages"})}):(M.b.success("Details updated.",{containerId:"messages"}),a.setState({user:e}))})},a.handleOnChange=function(e){return a.setState(Object(i.a)({},e.target.name,e.target.value))},a.formValidation=function(){var e=a.state,t=e.first_name,n=e.last_name,r=e.tel,l=e.address_line_1,c=e.address_line_2,o=e.city,i=e.postcode;return!!(t&&n&&r&&l&&c&&o&&i)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("user");t?fetch(O+"auto_signin",{headers:{Authorization:t}}).then(function(e){return e.json()}).then(function(t){t.error||e.setState(Object(o.a)({},t.user))}):this.props.history.push("/signin")}},{key:"render",value:function(){var e=this.state,t=e.first_name,a=e.last_name,n=e.tel,l=e.address_line_1,c=e.address_line_2,o=e.city,i=e.postcode,s=e.email,u=e.dob;return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{textAlign:"center"},r.a.createElement(F.a.Column,{style:{maxWidth:450,paddingTop:"8em"}},r.a.createElement(S.a,{as:"h2",textAlign:"center"},"My Details"),r.a.createElement(A.a,{size:"large",onSubmit:this.updateDetails},r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"user",iconPosition:"left",placeholder:"First Name",name:"first_name",onChange:this.handleOnChange,value:t}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"user",iconPosition:"left",placeholder:"Last Name",name:"last_name",onChange:this.handleOnChange,value:a}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,disabled:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail address",name:"email",onChange:this.handleOnChange,value:s}),r.a.createElement(H.DateInput,{disabled:!0,value:u,iconPosition:"left"}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"phone",iconPosition:"left",placeholder:"Phone No.",name:"tel",onChange:this.handleOnChange,value:n}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"address book",iconPosition:"left",placeholder:"Address Line 1",name:"address_line_1",onChange:this.handleOnChange,value:l}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"address book",iconPosition:"left",placeholder:"Address Line 2",name:"address_line_2",onChange:this.handleOnChange,value:c}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"address book",iconPosition:"left",placeholder:"City",name:"city",onChange:this.handleOnChange,value:o}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"address book",iconPosition:"left",placeholder:"Postcode",name:"postcode",onChange:this.handleOnChange,value:i}),this.formValidation()?r.a.createElement(T.a,{fluid:!0,size:"large",content:"Update Details",positive:!0}):r.a.createElement(T.a,{fluid:!0,size:"large",content:"Update Details",disabled:!0})))))}}]),t}(r.a.Component),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={products:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O+"/products").then(function(e){return e.json()}).then(function(t){return e.setState({products:t})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(S.a,null,"All Products"),this.state.products.length>0?r.a.createElement(I.a.Group,{itemsPerRow:5},this.state.products.map(function(e){return r.a.createElement(x,{key:e.id,beer:e})})):r.a.createElement("div",null,"No results found."))}}]),t}(r.a.Component),U=a(376),q=a(380),B=a(179),J=a(254),V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={id:0,name:"",description:"",abv:0,volume:0,style:"",packaging:"",price:0,stock:0,image_url:"",brewery:{},reviews:[],productRating:0},a.fetchProduct=function(e){fetch(O+"products/".concat(e)).then(function(e){return e.json()}).then(function(e){return a.setState(Object(o.a)({},e))})},a.moreProducts=function(){return a.props.products.filter(function(e){return e.brewery.id===a.state.brewery.id&&e.id!==a.state.id})},a.handleAddToCart=function(){a.props.cart[a.state.id]>=a.state.stock?M.b.error("Stock level exceeded.",{containerId:"messages"}):(a.props.addToCart(a.state.id),M.b.success("Added to cart.",{containerId:"messages"}))},a.reviewButton=function(){return!!a.props.user.products.map(function(e){return e.id}).includes(a.state.id)},a.reviewClick=function(){a.props.history.push("/reviews/".concat(a.state.id))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.fetchProduct(this.props.match.params.id)}},{key:"render",value:function(){var e=this;console.log(this.state.productRating);var t=this.state,a=t.name,n=t.description,l=t.abv,c=t.volume,o=t.style,i=t.packaging,s=t.price,u=t.image_url,m=t.brewery;return this.state.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{fluid:!0},r.a.createElement(F.a,null,r.a.createElement(F.a.Row,null,r.a.createElement(F.a.Column,{width:8},r.a.createElement(w.a,{size:"large",src:u,style:{padding:"1em"}})),r.a.createElement(F.a.Column,{width:8},r.a.createElement(I.a.Header,{style:{fontSize:"2.5em",padding:"1em"}},a),r.a.createElement(I.a.Description,{style:{padding:"1em"}},r.a.createElement("div",null,r.a.createElement(S.a,null,m.name),m.location),r.a.createElement("br",null),r.a.createElement("p",null,n)),r.a.createElement(I.a.Content,null,r.a.createElement(U.a,{style:{padding:"1em"}},r.a.createElement(U.a.Item,{style:{lineHeight:"2"}},r.a.createElement("strong",null,"ABV: ")," ",l.toFixed(1),"%"),r.a.createElement(U.a.Item,{style:{lineHeight:"2"}},r.a.createElement("strong",null,"Volume: ")," ",c,"ml"),r.a.createElement(U.a.Item,{style:{lineHeight:"2"}},r.a.createElement("strong",null,"Packaging: ")," ",i),r.a.createElement(U.a.Item,{style:{lineHeight:"2"}},r.a.createElement("strong",null,"Style: ")," ",o),r.a.createElement(U.a.Item,{style:{lineHeight:"2"}},r.a.createElement("strong",null,"Price: ")," \xa3",s.toFixed(2)),r.a.createElement(U.a.Item,{style:{lineHeight:"2"}},r.a.createElement("strong",null,"Rating: ")," ",r.a.createElement(q.a,{icon:"star",rating:this.state.productRating,maxRating:5,disabled:!0}))))))),r.a.createElement(I.a.Content,{extra:!0},r.a.createElement(T.a,{positive:!0,floated:"right",onClick:this.handleAddToCart},"Add to Cart"),this.reviewButton()&&r.a.createElement(T.a,{positive:!0,floated:"right",onClick:this.reviewClick},"Review"))),r.a.createElement(F.a,null,r.a.createElement(F.a.Column,{width:10},r.a.createElement(P,{title:"More from ".concat(m.name),products:this.moreProducts().slice(0,3),fetchProduct:this.fetchProduct,perRow:3})),r.a.createElement(F.a.Column,{width:6},r.a.createElement(S.a,null,"Reviews"),r.a.createElement(B.a,null,r.a.createElement(J.a.Group,null,this.state.reviews.length>0?this.state.reviews.map(function(t){return r.a.createElement(J.a,{key:t.id},r.a.createElement(J.a.Image,{size:"tiny",src:e.state.image_url}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,null,r.a.createElement(q.a,{icon:"star",defaultRating:t.rating,maxRating:5,disabled:!0})),r.a.createElement(J.a.Meta,null,t.reviewer),r.a.createElement(J.a.Description,null,t.comment)))}):"No reviews yet."))))):r.a.createElement("div",null)}}]),t}(r.a.Component),W=(a(624),a(117)),G=a(374),K=a(356),Y=a(149),Q=a(313),X=a.n(Q),Z=a(417),$=a(256),ee=a(377),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={complete:!1,data:{},btnText:"Complete",btnDisable:!1},a.submit=a.submit.bind(Object($.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"submit",value:function(){var e=Object(Z.a)(X.a.mark(function e(t){var a,n,l,c,o,i,s,u=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.data,n=a.error,l=a.complete,!n&&l){e.next=6;break}return c=null,c=n?n.message:"Form not complete",M.b.error(c,{containerId:"messages"}),e.abrupt("return");case 6:return this.setState({btnText:r.a.createElement(ee.a,{active:!0,inline:!0,size:"small"}),btnDisable:!0}),e.next=9,this.props.stripe.createToken({name:"Name"});case 9:return o=e.sent,i=o.token,e.next=13,fetch("/charge",{method:"POST",headers:{"Content-Type":"text/plain"},body:i.id});case 13:e.sent.ok&&(s=JSON.parse(localStorage.getItem("cart")),fetch(O+"orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cart:s,user_id:this.props.user.id,order_total:this.props.total})}).then(function(e){return e.json()}).then(function(e){e.error?M.b.error(e.error,{containerId:"messages"}):(localStorage.removeItem("cart"),u.props.clearCart(),u.props.history.push("/order/".concat(e.id)))}));case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.complete?r.a.createElement("h1",null,"Purchase Complete"):r.a.createElement("div",{className:"checkout"},r.a.createElement(Y.CardElement,{onChange:function(t){e.setState({data:t})}}),r.a.createElement(T.a,{onClick:this.submit,disabled:this.state.btnDisable,positive:!0,floated:"right",style:{marginBottom:"20px"}},this.state.btnText))}}]),t}(r.a.Component),ae=Object(Y.injectStripe)(te),ne=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(Y.StripeProvider,{apiKey:"pk_test_TYooMQauvdEDq54NiTphI7jx"},r.a.createElement("div",{className:"example"},r.a.createElement(Y.Elements,null,r.a.createElement(ae,{cart:this.props.cart,clearCart:this.props.clearCart,user:this.props.user,history:this.props.history,total:this.props.total}))))}}]),t}(r.a.Component),re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={checkout:!1,products:[],cartItems:[]},a.cartToState=function(){var e=[];fetch(O+"products").then(function(e){return e.json()}).then(function(t){e=t,a.setState({products:e,cartItems:a.newCartItems(e)})})},a.removeFromCart=function(e){a.props.removeFromCart(e),a.cartToState()},a.newCartItems=function(e){return e.filter(function(e){return Object.keys(a.props.cart).includes(e.id.toString())}).map(function(e){return Object.assign({},e,{qty:a.props.cart[e.id],total:e.price*a.props.cart[e.id]})})},a.sumTotal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a.state.cartItems.map(function(t){return e+=t.total}),parseFloat(e).toFixed(2)},a.checkoutClick=function(){a.setState({checkout:!0})},a.updateCart=function(e,t){if("add"===e){var n=a.state.products.find(function(e){return e.id===t});console.log(a.props.cart[t],n.stock),a.props.cart[t]<n.stock?a.props.addToCart(t):M.b.error("Stock level reached.",{containerId:"messages"})}"remove"===e&&a.props.removeFromCart(t),"removeline"===e&&a.props.removeLineFromCart(t),a.cartToState()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.cartToState()}},{key:"render",value:function(){var e=this;return this.state.cartItems.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{textAlign:"center",size:"huge"},"My Cart"),r.a.createElement(G.a,{singleLine:!0,striped:!0,fixed:!0},r.a.createElement(G.a.Header,null,r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,null,"Item"),r.a.createElement(G.a.HeaderCell,{width:2},"Quantity"),r.a.createElement(G.a.HeaderCell,{width:2},"Price"),r.a.createElement(G.a.HeaderCell,{width:2}))),r.a.createElement(G.a.Body,null,this.state.cartItems.map(function(t){return r.a.createElement(G.a.Row,{key:t.id},r.a.createElement(G.a.Cell,null,r.a.createElement(b.b,{to:"/product/".concat(t.id)},t.name)," ",r.a.createElement("em",null,"(",t.brewery.name,")")),r.a.createElement(G.a.Cell,null,r.a.createElement(b.b,{to:"#",onClick:function(){return e.updateCart("remove",t.id)}}," ",r.a.createElement(E.a,{name:"minus"})," "),r.a.createElement("span",{style:{fontSize:"1.2em"}},t.qty),r.a.createElement(b.b,{to:"#",onClick:function(){return e.updateCart("add",t.id)}}," ",r.a.createElement(E.a,{name:"plus"})," ")),r.a.createElement(G.a.Cell,null,"\xa3",t.total.toFixed(2)),r.a.createElement(G.a.Cell,null,r.a.createElement(b.b,{to:"#",style:{color:"red"},onClick:function(){return e.updateCart("removeline",t.id)}},"Remove")))}),r.a.createElement(G.a.Row,null,r.a.createElement(G.a.Cell,null),r.a.createElement(G.a.Cell,null,r.a.createElement("strong",null,"Subtotal")),r.a.createElement(G.a.Cell,null,r.a.createElement("strong",null,"\xa3",this.sumTotal())),r.a.createElement(G.a.Cell,null)),r.a.createElement(G.a.Row,null,r.a.createElement(G.a.Cell,null),r.a.createElement(G.a.Cell,null,"Delivery"),r.a.createElement(G.a.Cell,null,"\xa3",6.99),r.a.createElement(G.a.Cell,null)),r.a.createElement(G.a.Row,null,r.a.createElement(G.a.Cell,null),r.a.createElement(G.a.Cell,null,r.a.createElement("strong",null,"Total")),r.a.createElement(G.a.Cell,null,r.a.createElement("strong",null,"\xa3",this.sumTotal(6.99))),r.a.createElement(G.a.Cell,null))),r.a.createElement(G.a.Footer,{fullWidth:!0},r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,{colSpan:"4"},r.a.createElement(K.a,{trigger:r.a.createElement(T.a,{positive:!0,floated:"right",style:{height:"2.8em"}},"Checkout")},r.a.createElement(K.a.Header,null,"Complete Purchase"),r.a.createElement(K.a.Content,null,r.a.createElement(ne,{cart:this.state.cartItems,clearCart:this.props.clearCart,user:this.props.user,history:this.props.history,total:this.sumTotal(6.99)}))),r.a.createElement(T.a,{negative:!0,floated:"right",onClick:this.props.clearCart,as:b.b,to:"/",style:{height:"2.8em"}},"Empty Cart")))))):this.state.cartItems.length<1?r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{textAlign:"center",size:"huge"},"My Cart"),r.a.createElement("br",null),r.a.createElement(I.a,{fluid:!0},r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,null,"Cart is empty."),r.a.createElement(I.a.Description,null,r.a.createElement(b.b,{to:"/"},"Click Here ")," to continue shopping.")))):void 0}}]),t}(r.a.Component),le=a(252),ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={order:{}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O+"orders/".concat(this.props.match.params.id)).then(function(e){return e.json()}).then(function(t){return e.setState({order:t})})}},{key:"render",value:function(){var e=this.state.order,t=e.total,a=e.delivery,n=e.status,l=e.products,c=e.user;return this.state.order.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a.Group,{fluid:!0},r.a.createElement(le.a,{active:"open"===n},r.a.createElement(E.a,{name:"thumbs up"}),r.a.createElement(le.a.Content,null,r.a.createElement(le.a.Title,null,"Order Placed"))),r.a.createElement(le.a,{disabled:!0},r.a.createElement(E.a,{name:"box"}),r.a.createElement(le.a.Content,null,r.a.createElement(le.a.Title,null,"Preparing"))),r.a.createElement(le.a,{disabled:!0},r.a.createElement(E.a,{name:"truck"}),r.a.createElement(le.a.Content,null,r.a.createElement(le.a.Title,null,"Shipping"))),r.a.createElement(le.a,{disabled:!0},r.a.createElement(E.a,{name:"check"}),r.a.createElement(le.a.Content,null,r.a.createElement(le.a.Title,null,"Complete")))),r.a.createElement(B.a,null,r.a.createElement(J.a.Group,null,r.a.createElement(J.a,null,r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,null,"Order Details"),r.a.createElement(J.a.Description,null,r.a.createElement(F.a,{style:{borderBottom:"1px solid rgba(0,0,0,0.1"}},r.a.createElement(F.a.Row,null,r.a.createElement(F.a.Column,{width:8},"Delivery Address: ",r.a.createElement("br",null),c.address_line_1,r.a.createElement("br",null),c.address_line_2,r.a.createElement("br",null),c.city,r.a.createElement("br",null),c.postcode),r.a.createElement(F.a.Column,{width:8},r.a.createElement(J.a,null,r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Description,null,r.a.createElement("p",null,"Subtotal: \xa3",(t-a).toFixed(2)),r.a.createElement("p",null,"Shipping: \xa3",a.toFixed(2))),r.a.createElement(S.a,null,"Order Total: \xa3",t.toFixed(2)))))))))),l.map(function(e){return r.a.createElement(J.a,{style:{paddingTop:"2em"},key:e.id},r.a.createElement(J.a.Image,{size:"tiny",src:e.image_url}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,null,e.name),r.a.createElement(J.a.Meta,null,e.brewery_name),r.a.createElement(J.a.Description,null,"Amount: ",e.qty,r.a.createElement("br",null),"Price: \xa3",(e.price*e.qty).toFixed(2))))}))),r.a.createElement(T.a,{as:b.b,to:"/orders",basic:!0,inverted:!0},"Back to Orders")):r.a.createElement("div",null)}}]),t}(r.a.Component),oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={orders:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O+"users/".concat(this.props.user.id)).then(function(e){return e.json()}).then(function(t){return e.setState({orders:t.orders})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{textAlign:"center",size:"huge"},"My Orders"),r.a.createElement(G.a,null,r.a.createElement(G.a.Header,null,r.a.createElement(G.a.Row,null,r.a.createElement(G.a.HeaderCell,null,"Order Date"),r.a.createElement(G.a.HeaderCell,null,"Order Number"),r.a.createElement(G.a.HeaderCell,{width:2},"Order Total"),r.a.createElement(G.a.HeaderCell,{width:2},"Order Status"),r.a.createElement(G.a.HeaderCell,{width:2}))),r.a.createElement(G.a.Body,null,this.state.orders.map(function(e){return r.a.createElement(G.a.Row,null,r.a.createElement(G.a.Cell,null,"".concat(e.created_at.slice(8,10),"/").concat(e.created_at.slice(5,7),"/").concat(e.created_at.slice(0,4))),r.a.createElement(G.a.Cell,null,e.id),r.a.createElement(G.a.Cell,null,"\xa3",e.total.toFixed(2)),r.a.createElement(G.a.Cell,null,e.status.charAt(0).toUpperCase()+e.status.slice(1,e.status.length)),r.a.createElement(G.a.Cell,null,r.a.createElement(b.b,{to:"/order/".concat(e.id)},"Details")))}))))}}]),t}(r.a.Component),ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={brewery:{id:0,name:"",bio:"",location:""}},a.updateDetails=function(){fetch(O+"breweries/".concat(a.state.brewery.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state.brewery)}).then(function(e){return e.json()}).then(function(e){e.error?M.b.error("response.error",{containerId:"messages"}):a.props.getUser()})},a.formValidation=function(){var e=a.state.brewery,t=e.name,n=e.bio,r=e.location;return!!(t&&n&&r)},a.handleChange=function(e){a.setState({brewery:Object(o.a)({},a.state.brewery,Object(i.a)({},e.target.name,e.target.value))})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({brewery:this.props.brewery})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{textAlign:"center"},r.a.createElement(F.a.Column,{style:{maxWidth:450,paddingTop:"8em"}},r.a.createElement(S.a,{as:"h2",textAlign:"center"},"Brewery Details"),r.a.createElement(A.a,{size:"large",onSubmit:this.updateDetails,onChange:this.handleChange},r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"address card",iconPosition:"left",name:"name",placeholder:"Brewery Name",value:this.state.brewery.name}),r.a.createElement(A.a.TextArea,{fluid:!0,required:!0,icon:"user",iconPosition:"left",name:"bio",placeholder:"Bio",style:{height:"8em"},value:this.state.brewery.bio}),r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"location arrow",iconPosition:"left",name:"location",placeholder:"Location",value:this.state.brewery.location}),this.formValidation()?r.a.createElement(T.a,{fluid:!0,size:"large",content:"Update Details",positive:!0}):r.a.createElement(T.a,{fluid:!0,size:"large",content:"Update Details",disabled:!0})))))}}]),t}(r.a.Component),se=a(379),ue=a(420),me=a(419),de=a.n(me),pe=a(305),he="t8jlzjjv",fe="https://api.cloudinary.com/v1_1/dm7moiolo/image/upload",Ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,uploadedFileCloudinaryUrl:""},a.onImageDrop=function(e){a.setState({uploadedFile:e[0],loading:!0}),a.handleImageUpload(e[0])},a.handleImageUpload=function(e){de.a.post(fe).field("upload_preset",he).field("file",e).end(function(e,t){e&&M.b.error(e,{containerId:"messages"}),""!==t.body.secure_url&&(a.props.setImage(t.body.secure_url),a.setState({uploadedFileCloudinaryUrl:t.body.secure_url,loading:!1}))})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ue.a,{onDrop:this.onImageDrop.bind(this),accept:"image/*",multiple:!1},function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement(F.a,{style:{marginBottom:"1em"}},r.a.createElement(F.a.Row,null,r.a.createElement(F.a.Column,{width:10},r.a.createElement("div",a(),r.a.createElement(T.a,{fluid:!0},r.a.createElement("input",n()),r.a.createElement(E.a,{name:"upload"}),"Upload Image")),r.a.createElement(B.a,{textAlign:"left",style:{overflow:"hidden"}},""===e.state.uploadedFileCloudinaryUrl?"No file selected.":e.state.uploadedFile.name)),r.a.createElement(F.a.Column,{width:6},e.state.loading&&r.a.createElement(pe.a,{active:!0},r.a.createElement(ee.a,{active:!0,size:"large"},"Loading")),r.a.createElement(w.a,{floated:"right",src:""===e.state.uploadedFileCloudinaryUrl?e.props.image:e.state.uploadedFileCloudinaryUrl,size:"small",style:{backgroundColor:"white",borderRadius:"4px"}}))))}))}}]),t}(r.a.Component),ge=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",description:"",abv:0,volume:0,style:"",packaging:"",price:0,stock:0,image_url:""},a.setImage=function(e){a.setState({image_url:e})},a.handleChange=function(e){a.setState(Object(i.a)({},e.target.name,e.target.value))},a.handleSelect=function(e,t){var n=t.name,r=t.value;a.setState(Object(i.a)({},n,r))},a.formValidation=function(){var e=a.state,t=e.name,n=e.description,r=e.abv,l=e.volume,c=e.style,o=e.packaging,i=e.price,s=e.stock;return!!(t&&n&&r&&l&&c&&o&&i&&s.toString())},a.styles=function(){return j.map(function(e){return{text:e,value:e}})},a.packaging=function(){return[{text:"Can",value:"can"},{text:"Bottle",value:"bottle"}]},a.handleSubmit=function(){a.props.handleSubmit(a.state)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.product&&this.setState(Object(o.a)({},this.props.product))}},{key:"render",value:function(){return console.log(this.props.product),r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{textAlign:"center"},r.a.createElement(F.a.Row,null,r.a.createElement(F.a.Column,null,r.a.createElement(T.a,{floated:"left",as:b.b,to:"/brewery/products"},"Back to Products"))),r.a.createElement(F.a.Row,null,r.a.createElement(F.a.Column,{style:{maxWidth:450}},r.a.createElement(S.a,{as:"h2",textAlign:"center"},r.a.createElement(S.a.Content,null,this.props.title)),r.a.createElement(A.a,{size:"large",onSubmit:this.handleSubmit,onChange:this.handleChange},r.a.createElement(se.a,{trigger:r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"address card",iconPosition:"left",name:"name",placeholder:"Product Name",value:this.state.name}),content:"Product Name",position:"left center"}),r.a.createElement(se.a,{trigger:r.a.createElement(A.a.TextArea,{required:!0,name:"description",placeholder:"Description",value:this.state.description}),content:"Description",position:"left center"}),r.a.createElement(se.a,{trigger:r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"percent",iconPosition:"left",name:"abv",placeholder:"ABV",value:this.state.abv}),content:"ABV",position:"left center"}),r.a.createElement(se.a,{trigger:r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"arrows alternate vertical",iconPosition:"left",name:"volume",placeholder:"Volume",value:this.state.volume}),content:"Volume",position:"left center"}),r.a.createElement(se.a,{trigger:r.a.createElement(A.a.Dropdown,{fluid:!0,required:!0,name:"style",selection:!0,placeholder:"Style",options:this.styles(),value:this.state.style,onChange:this.handleSelect}),content:"Style",position:"left center"}),r.a.createElement(se.a,{trigger:r.a.createElement(A.a.Dropdown,{fluid:!0,required:!0,selection:!0,name:"packaging",placeholder:"Packaging",options:this.packaging(),value:this.state.packaging,onChange:this.handleSelect}),content:"Packaging",position:"left center"}),r.a.createElement(se.a,{trigger:r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"pound",iconPosition:"left",name:"price",placeholder:"Price",value:this.state.price}),content:"Price",position:"left center"}),r.a.createElement(se.a,{trigger:r.a.createElement(A.a.Input,{fluid:!0,required:!0,icon:"list ol",iconPosition:"left",name:"stock",placeholder:"Stock",value:this.state.stock}),content:"Stock",position:"left center"}),r.a.createElement(Ee,{image:this.state.image_url,setImage:this.setImage}),this.formValidation()?r.a.createElement(T.a,{fluid:!0,size:"large",content:this.props.btn,positive:!0}):r.a.createElement(T.a,{fluid:!0,size:"large",content:this.props.btn,disabled:!0}))))))}}]),t}(r.a.Component),be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={product:null},a.updateDetails=function(e){fetch(O+"products/".concat(e.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){e.error?M.b.error(e.error,{containerId:"messages"}):(M.b.success("Product updated.",{containerId:"messages"}),a.setState(Object(o.a)({},e)),a.props.getUser())})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O+"products/".concat(this.props.match.params.id)).then(function(e){return e.json()}).then(function(t){return e.setState({product:t})})}},{key:"render",value:function(){return this.state.product?r.a.createElement(r.a.Fragment,null,r.a.createElement(ge,{title:"Product Details",btn:"Update Details",product:this.state.product,handleSubmit:this.updateDetails})):r.a.createElement("div",null)}}]),t}(r.a.Component),ye=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={products:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O+"products").then(function(e){return e.json()}).then(function(t){return t.filter(function(t){return t.brewery.id===e.props.brewery.id})}).then(function(t){return e.setState({products:t})})}},{key:"render",value:function(){var e=this.state.products;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{textAlign:"center",size:"huge"},"Manage Products"),r.a.createElement(B.a,null,r.a.createElement(J.a.Group,null,r.a.createElement(J.a,{textAlign:"right",style:{padding:"1em 0"}},r.a.createElement(T.a,{positive:!0,as:b.b,to:"/brewery/newproduct"},"Add Product")),e.map(function(e){return r.a.createElement(J.a,{style:{padding:"1em 0",borderBottom:"1px solid rgba(0,0,0,0.1)"},key:e.id},r.a.createElement(J.a.Image,{size:"tiny",src:e.image_url}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,null,e.name),r.a.createElement(J.a.Meta,null,e.brewery_name),r.a.createElement(J.a.Description,null,"Stock: ",e.stock,r.a.createElement("br",null),"Price: \xa3",e.price.toFixed(2),r.a.createElement(T.a,{floated:"right",as:b.b,to:"/brewery/products/".concat(e.id)},"Update"))))}))))}}]),t}(r.a.Component),ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).createProduct=function(e){fetch(O+"products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(o.a)({},e,{brewery_id:a.props.brewery.id}))}).then(function(e){return e.json()}).then(function(e){e.error?M.b.error(e.error,{containerId:"messages"}):(M.b.success("Product saved.",{containerId:"messages"}),a.props.getUser(),a.props.history.push("/product/".concat(e.id)))})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(ge,{title:"New Product",btn:"Create Product",handleSubmit:this.createProduct})}}]),t}(r.a.Component),Ce=a(378),we=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:0},a.handleClick=function(e,t){var n=t.index,r=a.state.activeIndex===n?-1:n;a.setState({activeIndex:r})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.activeIndex;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{textAlign:"center",size:"huge"},"Help"),r.a.createElement(Ce.a,{fluid:!0,styled:!0},r.a.createElement(Ce.a.Title,{active:0===e,index:0,onClick:this.handleClick},r.a.createElement(E.a,{name:"dropdown"}),"What is a dog?"),r.a.createElement(Ce.a.Content,{active:0===e},r.a.createElement("p",null,"A dog is a type of domesticated animal. Known for its loyalty and faithfulness, it can be found as a welcome guest in many households across the world.")),r.a.createElement(Ce.a.Title,{active:1===e,index:1,onClick:this.handleClick},r.a.createElement(E.a,{name:"dropdown"}),"What kinds of dogs are there?"),r.a.createElement(Ce.a.Content,{active:1===e},r.a.createElement("p",null,"There are many breeds of dogs. Each breed varies in size and temperament. Owners often select a breed of dog that they find to be compatible with their own lifestyle and desires from a companion.")),r.a.createElement(Ce.a.Title,{active:2===e,index:2,onClick:this.handleClick},r.a.createElement(E.a,{name:"dropdown"}),"How do you acquire a dog?"),r.a.createElement(Ce.a.Content,{active:2===e},r.a.createElement("p",null,"Three common ways for a prospective owner to acquire a dog is from pet shops, private owners, or shelters."),r.a.createElement("p",null,"A pet shop may be the most convenient way to buy a dog. Buying a dog from a private owner allows you to assess the pedigree and upbringing of your dog before choosing to take it home. Lastly, finding your dog from a shelter, helps give a good home to a dog who may not find one so readily."))))}}]),t}(n.Component),Oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={product:{id:0,name:"",description:"",image_url:""},review:{user_id:0,product_id:0,rating:0,comment:""}},a.formValidation=function(){var e=a.state.review,t=e.rating,n=e.comment;return!(!t||!n)},a.handleSubmit=function(){fetch(O+"reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state.review)}).then(function(e){return e.json()}).then(function(e){e.error?M.b.error(e.error,{containerId:"messages"}):a.props.history.push("/product/".concat(a.state.product.id))})},a.setRating=function(e,t){a.setState({review:Object(o.a)({},a.state.review,{rating:t.rating})})},a.setComment=function(e){a.setState({review:Object(o.a)({},a.state.review,{comment:e.target.value})})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O+"products/".concat(this.props.match.params.id)).then(function(e){return e.json()}).then(function(t){return e.setState({product:t,review:Object(o.a)({},e.state.review,{product_id:t.id,user_id:e.props.user.id})})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{textAlign:"center"},r.a.createElement(F.a.Row,null,r.a.createElement(F.a.Column,{style:{maxWidth:600}},r.a.createElement(S.a,{as:"h2",textAlign:"center"},r.a.createElement(S.a.Content,null,"Add a Review")),r.a.createElement(B.a,null,r.a.createElement(J.a,null,r.a.createElement(J.a.Image,{size:"tiny",src:this.state.product.image_url}),r.a.createElement(J.a.Content,null,r.a.createElement(J.a.Header,{as:b.b,to:"/product/".concat(this.state.product.id)},this.state.product.name),r.a.createElement(J.a.Description,null,this.state.product.description)))),r.a.createElement(A.a,{onSubmit:this.handleSubmit},r.a.createElement("br",null),r.a.createElement(q.a,{maxRating:5,icon:"star",size:"massive",onRate:this.setRating}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a.TextArea,{required:!0,name:"content",placeholder:"Review",onChange:this.setComment,value:this.state.review.comment}),this.formValidation()?r.a.createElement(T.a,{fluid:!0,size:"large",content:"Add Review",positive:!0}):r.a.createElement(T.a,{fluid:!0,size:"large",content:"Add Review",disabled:!0}))))))}}]),t}(r.a.Component),je=a(381),ke=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O+"users/29").then(function(e){return e.json()}).then(function(t){return e.setState({user:t})})}},{key:"render",value:function(){return this.state.user?r.a.createElement(je.a,{size:"large",style:{backgroundColor:"blue"}},r.a.createElement(je.a.Event,null,r.a.createElement(je.a.Label,null,r.a.createElement("img",{src:this.state.user.profile_img,style:{backgroundColor:"white"}})),r.a.createElement(je.a.Content,null,r.a.createElement(je.a.Summary,null,r.a.createElement(je.a.User,null,"Elliot Fu")," added you as a friend",r.a.createElement(je.a.Date,null,"1 Hour Ago")),r.a.createElement(je.a.Meta,null,r.a.createElement(je.a.Like,null,r.a.createElement(E.a,{name:"like"}),"4 Likes")))),r.a.createElement(je.a.Event,{style:{width:"100%",backgroundColor:"red"}},r.a.createElement(je.a.Label,null,r.a.createElement("img",{src:this.state.user.profile_img,style:{backgroundColor:"white"}})),r.a.createElement(je.a.Content,{style:{backgroundColor:"green"}},r.a.createElement(je.a.Summary,null,r.a.createElement("a",null,"Helen Troy")," added ",r.a.createElement("a",null,"2 new illustrations"),r.a.createElement(je.a.Date,null,"4 days ago")),r.a.createElement(je.a.Extra,{images:!0},r.a.createElement("a",null,r.a.createElement("img",{src:"https://www.fillmurray.com/640/360"})),r.a.createElement("a",null,r.a.createElement("img",{src:"https://www.fillmurray.com/640/360"}))),r.a.createElement(je.a.Meta,{style:{backgroundColor:"yellow",width:"100%"}},r.a.createElement(je.a.Like,null,r.a.createElement(E.a,{name:"like"}),"1 Like"),r.a.createElement(T.a,{floated:"right"},"Buy")))),r.a.createElement(je.a.Event,null,r.a.createElement(je.a.Label,null,r.a.createElement("img",{src:this.state.user.profile_img,style:{backgroundColor:"white"}})),r.a.createElement(je.a.Content,null,r.a.createElement(je.a.Summary,{date:"2 Days Ago",user:"Jenny Hess",content:"add you as a friend"}),r.a.createElement(je.a.Meta,null,r.a.createElement(je.a.Like,null,r.a.createElement(E.a,{name:"like"}),"8 Likes")))),r.a.createElement(je.a.Event,null,r.a.createElement(je.a.Label,null,r.a.createElement("img",{src:this.state.user.profile_img,style:{backgroundColor:"white"}})),r.a.createElement(je.a.Content,null,r.a.createElement(je.a.Summary,null,r.a.createElement("a",null,"Joe Henderson")," posted on his page",r.a.createElement(je.a.Date,null,"3 days ago")),r.a.createElement(je.a.Extra,{text:!0},"Ours is a life of constant reruns. We're always circling back to where we'd we started, then starting all over again. Even if we don't run extra laps that day, we surely will come back for more of the same another day soon."),r.a.createElement(je.a.Meta,null,r.a.createElement(je.a.Like,null,r.a.createElement(E.a,{name:"like"}),"5 Likes")))),r.a.createElement(je.a.Event,null,r.a.createElement(je.a.Label,null,r.a.createElement("img",{src:this.state.user.profile_img,style:{backgroundColor:"white"}})),r.a.createElement(je.a.Content,null,r.a.createElement(je.a.Summary,null,r.a.createElement("a",null,"Justen Kitsune")," added ",r.a.createElement("a",null,"2 new photos")," of you",r.a.createElement(je.a.Date,null,"4 days ago")),r.a.createElement(je.a.Extra,{images:!0},r.a.createElement("a",null,r.a.createElement("img",{src:"https://www.fillmurray.com/640/360"})),r.a.createElement("a",null,r.a.createElement("img",{src:"https://www.fillmurray.com/640/360"}))),r.a.createElement(je.a.Meta,null,r.a.createElement(je.a.Like,null,r.a.createElement(E.a,{name:"like"}),"41 Likes"))))):r.a.createElement("div",null)}}]),t}(r.a.Component),Se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,products:[],filter:{type:null,value:null},cart:{}},a.getCart=function(){var e=localStorage.getItem("cart");if(e){var t=JSON.parse(e);a.setState({cart:t})}},a.getProducts=function(){fetch(O+"products").then(function(e){return e.json()}).then(function(e){var t=e.filter(function(e){return e.stock>0});a.setState({products:t})})},a.clearCart=function(){a.setState({cart:{}}),localStorage.removeItem("cart")},a.getUser=function(){var e=localStorage.getItem("user");e&&fetch(O+"auto_signin",{headers:{Authorization:e}}).then(function(e){return e.json()}).then(function(e){e.error||a.setState({user:e.user})})},a.signOut=function(){a.setState({user:null},localStorage.removeItem("user"))},a.setSearch=function(e){a.setState({filter:{type:"search",value:e.target.value}})},a.setFilter=function(e,t){a.setState({filter:{type:e,value:t}})},a.addToCart=function(e){a.setState({cart:Object.assign({},a.state.cart,Object(i.a)({},e,a.state.cart[e]+1||1))},function(){return localStorage.setItem("cart",JSON.stringify(a.state.cart))})},a.removeFromCart=function(e){var t=Object(o.a)({},a.state.cart);a.state.cart[e]>1?t[e]=a.state.cart[e]-1:delete t[e],a.setState({cart:t},function(){return localStorage.setItem("cart",JSON.stringify(a.state.cart))})},a.removeLineFromCart=function(e){var t=Object(o.a)({},a.state.cart);delete t[e],a.setState({cart:t},function(){return localStorage.setItem("cart",JSON.stringify(a.state.cart))})},a.updateCart=function(e){console.log(e.target.name,e.target.value),a.setState({cart:Object.assign({},a.state.cart,Object(i.a)({},e.target.name,e.target.value))},function(){return localStorage.setItem("cart",JSON.stringify(a.state.cart))})},a.products=function(){var e=a.state,t=e.products,n=e.filter;switch(n.type){case"search":return t.filter(function(e){return e.brewery.name.toLowerCase().includes(n.value.toLowerCase())||e.description.toLowerCase().includes(n.value.toLowerCase())||e.name.toLowerCase().includes(n.value.toLowerCase())});case"all products":return t;case"brewery":return t.filter(function(e){return e.brewery.name===n.value});case"style":return t.filter(function(e){return e.style.includes(n.value)});default:return t}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getUser(),this.getCart(),this.getProducts()}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{containerId:"messages",position:M.b.POSITION.BOTTOM_RIGHT}),r.a.createElement(y,{user:this.state.user,signOut:this.signOut,setSearch:this.setSearch,search:"search"===this.state.filter.type?this.state.filter.value:"",cart:this.state.cart}),this.state.user?r.a.createElement(v.a,{style:{paddingTop:"6em"}},r.a.createElement(W.a,{exact:!0,path:"/",render:function(){return r.a.createElement(_,{products:e.products(),filter:e.state.filter.value,setFilter:e.setFilter})}}),r.a.createElement(W.a,{exact:!0,path:"/profile",render:function(e){return r.a.createElement(L,e)}}),r.a.createElement(W.a,{exact:!0,path:"/orders",render:function(t){return r.a.createElement(oe,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(W.a,{exact:!0,path:"/order/:id",render:function(e){return r.a.createElement(ce,e)}}),r.a.createElement(W.a,{exact:!0,path:"/products",render:function(e){return r.a.createElement(N,e)}}),r.a.createElement(W.a,{exact:!0,path:"/product/:id",render:function(t){return r.a.createElement(V,Object.assign({},t,{products:e.state.products,addToCart:e.addToCart,cart:e.state.cart,user:e.state.user,getUser:e.getProducts}))}}),r.a.createElement(W.a,{exact:!0,path:"/cart",render:function(t){return r.a.createElement(re,Object.assign({},t,{user:e.state.user,cart:e.state.cart,products:e.products(),clearCart:e.clearCart,removeFromCart:e.removeFromCart,addToCart:e.addToCart,removeLineFromCart:e.removeLineFromCart}))}}),r.a.createElement(W.a,{exact:!0,path:"/help",render:function(e){return r.a.createElement(we,e)}}),r.a.createElement(W.a,{exact:!0,path:"/reviews/:id",render:function(t){return r.a.createElement(Oe,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(W.a,{exact:!0,path:"/feed",render:function(t){return r.a.createElement(ke,Object.assign({},t,{user:e.state.user}))}}),this.state.user.brewery&&r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{exact:!0,path:"/brewery/profile",render:function(t){return r.a.createElement(ie,Object.assign({},t,{brewery:e.state.user.brewery,getUser:e.getProducts}))}}),r.a.createElement(W.a,{exact:!0,path:"/brewery/products",render:function(t){return r.a.createElement(ye,Object.assign({},t,{brewery:e.state.user.brewery}))}}),r.a.createElement(W.a,{exact:!0,path:"/brewery/newproduct",render:function(t){return r.a.createElement(ve,Object.assign({},t,{brewery:e.state.user.brewery,getUser:e.getProducts}))}}),r.a.createElement(W.a,{exact:!0,path:"/brewery/products/:id",render:function(t){return r.a.createElement(be,Object.assign({},t,{getUser:e.getProducts}))}}))):r.a.createElement(v.a,{style:{paddingTop:"6em"}},r.a.createElement(W.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(z,Object.assign({getUser:e.getUser},t))}}),r.a.createElement(W.a,{exact:!0,path:"/signin",render:function(t){return r.a.createElement(R,Object.assign({getUser:e.getUser},t))}}))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(Se,null),document.getElementById("root"))}},[[426,1,2]]]);
//# sourceMappingURL=main.ed266034.chunk.js.map